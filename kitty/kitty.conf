# vim:fileencoding=utf-8:foldmethod=marker

# ==============================================================================
#  THEME & APPEARANCE
# ==============================================================================
# BEGIN_KITTY_THEME
include current-theme.conf
# END_KITTY_THEME

background_opacity        0.75
dynamic_background_opacity yes
window_padding_width      6
hide_window_decorations   yes

# ==============================================================================
#  FONTS
# ==============================================================================
font_family      JetBrainsMono Nerd Font
font_size        11.0
enable_ligatures yes
line_height      1.0
# adjust_line_height  0
# adjust_column_width 0

# ==============================================================================
#  CURSOR & MOUSE
# ==============================================================================
cursor_shape                 block
cursor_shape_unfocused       hollow
cursor_beam_thickness        1.5
cursor_underline_thickness   2.0
cursor_blink_interval        -1
cursor_stop_blinking_after   -5.0
cursor_trail                 75
cursor_trail_decay           0.3 0.8
cursor_trail_start_threshold 1

mouse_hide_wait        1.0
detect_urls            yes
url_style              curly
open_url_with          default
show_hyperlink_targets no
underline_hyperlinks   hover
copy_on_select         yes
# url_excluded_characters

# ==============================================================================
#  LAYOUTS & WINDOWS
# ==============================================================================
# Enabled layouts: splits (for manual tiling), stack (for zoom), plus standard cycling
enabled_layouts splits:split_axis=horizontal,stack,tall,fat,grid

remember_window_position              yes
window_border_width                   0.5pt
draw_minimal_borders                  yes
draw_window_borders_for_single_window no
inactive_text_alpha                   1.0

# ==============================================================================
#  TAB BAR
# ==============================================================================
show_tab_bar        yes
tab_bar_style       powerline
tab_powerline_style slanted
bell_on_tab         "ðŸ”” "

# ==============================================================================
#  SYSTEM & PERFORMANCE
# ==============================================================================
scrollback_lines     10000
linux_display_server x11
sync_to_monitor      yes
allow_remote_control yes
shell_integration    yes
visual_bell_duration 0.5
window_alert_on_bell yes
enable_audio_bell    yes
audio_bell_command   afplay /System/Library/Sounds/Ping.aiff

# ==============================================================================
#  KEYBINDINGS
# ==============================================================================

# --- Layout Management ---
map ctrl+shift+l next_layout             # Cycle: Splits -> Stack -> Tall -> Fat -> Grid
map ctrl+shift+z toggle_layout stack     # Zoom: Toggle full screen (Stack layout)

# --- Split Windows ---
map ctrl+shift+h launch --location=hsplit
map ctrl+shift+v launch --location=vsplit
map ctrl+alt+n   new_window
map ctrl+alt+q   close_window

# --- Tab Management ---
map ctrl+t           new_tab
map ctrl+w           close_tab
map ctrl+shift+right next_tab
map ctrl+shift+left  previous_tab

# --- Clipboard & Basics ---
map ctrl+c copy_or_interrupt
map ctrl+v paste_from_clipboard
map ctrl+alt+enter toggle_fullscreen
# --- Quick Select / Hints ---
map ctrl+shift+e kitten hints --type url        # Select URLs
map ctrl+shift+p kitten hints --type path --program -  # Select Paths (Insert)
map ctrl+shift+y kitten hints --type hash --program -  # Select Hashes (Git)

# --- Font Sizes ---
map ctrl+plus  increase_font_size
map ctrl+minus decrease_font_size
map ctrl+0     reset_font_size

# --- Opacity Control ---
map ctrl+shift+o set_background_opacity 0.75 # Reset
map ctrl+shift+1 set_background_opacity 1.0
map ctrl+shift+2 set_background_opacity 0.9
map ctrl+shift+3 set_background_opacity 0.8
map ctrl+shift+4 set_background_opacity 0.7
map ctrl+shift+5 set_background_opacity 0.6
map ctrl+shift+6 set_background_opacity 0.5
map ctrl+shift+7 set_background_opacity 0.4
map ctrl+shift+8 set_background_opacity 0.3
map ctrl+shift+9 set_background_opacity 0.2
map ctrl+shift+0 set_background_opacity 0.1

# --- Shell / FZF Integration (Sends text) ---
map ctrl+alt+p send_text all \cf   # File search
map ctrl+alt+h send_text all \cr   # History search
map ctrl+alt+j send_text all \cd   # Directory jump
map ctrl+alt+x send_text all \ck   # Kill process
